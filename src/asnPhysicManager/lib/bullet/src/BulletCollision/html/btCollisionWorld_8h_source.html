<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Bullet Continuous Collision Detection Library: btCollisionWorld.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Bullet Continuous Collision Detection Library
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">btCollisionWorld.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="btCollisionWorld_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment">Bullet Continuous Collision Detection and Physics Library</span>
<a name="l00003"></a>00003 <span class="comment">Copyright (c) 2003-2006 Erwin Coumans  http://continuousphysics.com/Bullet/</span>
<a name="l00004"></a>00004 <span class="comment"></span>
<a name="l00005"></a>00005 <span class="comment">This software is provided &#39;as-is&#39;, without any express or implied warranty.</span>
<a name="l00006"></a>00006 <span class="comment">In no event will the authors be held liable for any damages arising from the use of this software.</span>
<a name="l00007"></a>00007 <span class="comment">Permission is granted to anyone to use this software for any purpose, </span>
<a name="l00008"></a>00008 <span class="comment">including commercial applications, and to alter it and redistribute it freely, </span>
<a name="l00009"></a>00009 <span class="comment">subject to the following restrictions:</span>
<a name="l00010"></a>00010 <span class="comment"></span>
<a name="l00011"></a>00011 <span class="comment">1. The origin of this software must not be misrepresented; you must not claim that you wrote the original software. If you use this software in a product, an acknowledgment in the product documentation would be appreciated but is not required.</span>
<a name="l00012"></a>00012 <span class="comment">2. Altered source versions must be plainly marked as such, and must not be misrepresented as being the original software.</span>
<a name="l00013"></a>00013 <span class="comment">3. This notice may not be removed or altered from any source distribution.</span>
<a name="l00014"></a>00014 <span class="comment">*/</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 
<a name="l00064"></a>00064 <span class="preprocessor">#ifndef COLLISION_WORLD_H</span>
<a name="l00065"></a>00065 <span class="preprocessor"></span><span class="preprocessor">#define COLLISION_WORLD_H</span>
<a name="l00066"></a>00066 <span class="preprocessor"></span>
<a name="l00067"></a>00067 <span class="keyword">class </span>btStackAlloc;
<a name="l00068"></a>00068 <span class="keyword">class </span><a class="code" href="classbtCollisionShape.html" title="btCollisionShape provides interface for collision shapes that can be shared among btCollisionObjects...">btCollisionShape</a>;
<a name="l00069"></a>00069 <span class="keyword">class </span>btConvexShape;
<a name="l00070"></a>00070 <span class="keyword">class </span><a class="code" href="classbtBroadphaseInterface.html" title="BroadphaseInterface for aabb-overlapping object pairs.">btBroadphaseInterface</a>;
<a name="l00071"></a>00071 <span class="preprocessor">#include &quot;LinearMath/btVector3.h&quot;</span>
<a name="l00072"></a>00072 <span class="preprocessor">#include &quot;LinearMath/btTransform.h&quot;</span>
<a name="l00073"></a>00073 <span class="preprocessor">#include &quot;<a class="code" href="btCollisionObject_8h.html">btCollisionObject.h</a>&quot;</span>
<a name="l00074"></a>00074 <span class="preprocessor">#include &quot;<a class="code" href="btCollisionDispatcher_8h.html">btCollisionDispatcher.h</a>&quot;</span> <span class="comment">//for definition of btCollisionObjectArray</span>
<a name="l00075"></a>00075 <span class="preprocessor">#include &quot;<a class="code" href="btOverlappingPairCache_8h.html">BulletCollision/BroadphaseCollision/btOverlappingPairCache.h</a>&quot;</span>
<a name="l00076"></a>00076 <span class="preprocessor">#include &quot;LinearMath/btAlignedObjectArray.h&quot;</span>
<a name="l00077"></a>00077 
<a name="l00079"></a><a class="code" href="classbtCollisionWorld.html">00079</a> <span class="keyword">class </span><a class="code" href="classbtCollisionWorld.html" title="CollisionWorld is interface and container for the collision detection.">btCollisionWorld</a>
<a name="l00080"></a>00080 {
<a name="l00081"></a>00081 
<a name="l00082"></a>00082         
<a name="l00083"></a>00083 <span class="keyword">protected</span>:
<a name="l00084"></a>00084 
<a name="l00085"></a><a class="code" href="classbtCollisionWorld.html#a56afeead1af07bd88814d9161cb86890">00085</a>         btAlignedObjectArray&lt;btCollisionObject*&gt;        <a class="code" href="classbtCollisionWorld.html#a56afeead1af07bd88814d9161cb86890">m_collisionObjects</a>;
<a name="l00086"></a>00086         
<a name="l00087"></a><a class="code" href="classbtCollisionWorld.html#aa6f6b4ae48398f89cda55492b7b55631">00087</a>         <a class="code" href="classbtDispatcher.html" title="btDispatcher can be used in combination with broadphase to dispatch overlapping pairs.">btDispatcher</a>*   <a class="code" href="classbtCollisionWorld.html#aa6f6b4ae48398f89cda55492b7b55631">m_dispatcher1</a>;
<a name="l00088"></a>00088 
<a name="l00089"></a><a class="code" href="classbtCollisionWorld.html#a07f4c7b327bd773c557a4804bfec7445">00089</a>         <a class="code" href="structbtDispatcherInfo.html">btDispatcherInfo</a>        <a class="code" href="classbtCollisionWorld.html#a07f4c7b327bd773c557a4804bfec7445">m_dispatchInfo</a>;
<a name="l00090"></a>00090 
<a name="l00091"></a><a class="code" href="classbtCollisionWorld.html#a9336b3b7eb3ba09039c378831af7ff6b">00091</a>         btStackAlloc*   <a class="code" href="classbtCollisionWorld.html#a9336b3b7eb3ba09039c378831af7ff6b">m_stackAlloc</a>;
<a name="l00092"></a>00092 
<a name="l00093"></a><a class="code" href="classbtCollisionWorld.html#a4f5f4f4ab95b4be5eba0911b9ba13c16">00093</a>         <a class="code" href="classbtOverlappingPairCache.html" title="btOverlappingPairCache maintains the objects with overlapping AABB Typically managed by the Broadphas...">btOverlappingPairCache</a>* <a class="code" href="classbtCollisionWorld.html#a4f5f4f4ab95b4be5eba0911b9ba13c16">m_broadphasePairCache</a>;
<a name="l00094"></a>00094         
<a name="l00095"></a><a class="code" href="classbtCollisionWorld.html#a1e9a705bdd927c230e68fa154eec8601">00095</a>         <span class="keywordtype">bool</span>    <a class="code" href="classbtCollisionWorld.html#a1e9a705bdd927c230e68fa154eec8601">m_ownsDispatcher</a>;
<a name="l00096"></a><a class="code" href="classbtCollisionWorld.html#a86efe340e0542b2e590729b163b02d31">00096</a>         <span class="keywordtype">bool</span>    <a class="code" href="classbtCollisionWorld.html#a86efe340e0542b2e590729b163b02d31">m_ownsBroadphasePairCache</a>;
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 <span class="keyword">public</span>:
<a name="l00099"></a>00099 
<a name="l00100"></a>00100         <span class="comment">//this constructor doesn&#39;t own the dispatcher and paircache/broadphase</span>
<a name="l00101"></a>00101         <a class="code" href="classbtCollisionWorld.html#a92495dbd1d238109e7eae59472d10d4f">btCollisionWorld</a>(<a class="code" href="classbtDispatcher.html" title="btDispatcher can be used in combination with broadphase to dispatch overlapping pairs.">btDispatcher</a>* dispatcher,<a class="code" href="classbtOverlappingPairCache.html" title="btOverlappingPairCache maintains the objects with overlapping AABB Typically managed by the Broadphas...">btOverlappingPairCache</a>* pairCache, <span class="keywordtype">int</span> stackSize = 2*1024*1024);
<a name="l00102"></a>00102 
<a name="l00103"></a>00103         <span class="keyword">virtual</span> <a class="code" href="classbtCollisionWorld.html#a30efa39d825df6624af30f10357fb16e">~btCollisionWorld</a>();
<a name="l00104"></a>00104 
<a name="l00105"></a>00105 
<a name="l00106"></a><a class="code" href="classbtCollisionWorld.html#a6138b6b1a4496a6857f1dfa71f6841e5">00106</a>         <a class="code" href="classbtBroadphaseInterface.html" title="BroadphaseInterface for aabb-overlapping object pairs.">btBroadphaseInterface</a>*  <a class="code" href="classbtCollisionWorld.html#a6138b6b1a4496a6857f1dfa71f6841e5">getBroadphase</a>()
<a name="l00107"></a>00107         {
<a name="l00108"></a>00108                 <span class="keywordflow">return</span> <a class="code" href="classbtCollisionWorld.html#a4f5f4f4ab95b4be5eba0911b9ba13c16">m_broadphasePairCache</a>;
<a name="l00109"></a>00109         }
<a name="l00110"></a>00110 
<a name="l00111"></a><a class="code" href="classbtCollisionWorld.html#a7327cc034ead04b732bd242f21b690cf">00111</a>         <a class="code" href="classbtOverlappingPairCache.html" title="btOverlappingPairCache maintains the objects with overlapping AABB Typically managed by the Broadphas...">btOverlappingPairCache</a>* <a class="code" href="classbtCollisionWorld.html#a7327cc034ead04b732bd242f21b690cf">getPairCache</a>()
<a name="l00112"></a>00112         {
<a name="l00113"></a>00113                 <span class="keywordflow">return</span> <a class="code" href="classbtCollisionWorld.html#a4f5f4f4ab95b4be5eba0911b9ba13c16">m_broadphasePairCache</a>;
<a name="l00114"></a>00114         }
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 
<a name="l00117"></a><a class="code" href="classbtCollisionWorld.html#a65b5cb3b0070b3aca14cb4c2aff25ed5">00117</a>         <a class="code" href="classbtDispatcher.html" title="btDispatcher can be used in combination with broadphase to dispatch overlapping pairs.">btDispatcher</a>*   <a class="code" href="classbtCollisionWorld.html#a65b5cb3b0070b3aca14cb4c2aff25ed5">getDispatcher</a>()
<a name="l00118"></a>00118         {
<a name="l00119"></a>00119                 <span class="keywordflow">return</span> <a class="code" href="classbtCollisionWorld.html#aa6f6b4ae48398f89cda55492b7b55631">m_dispatcher1</a>;
<a name="l00120"></a>00120         }
<a name="l00121"></a>00121 
<a name="l00124"></a><a class="code" href="structbtCollisionWorld_1_1LocalShapeInfo.html">00124</a>         <span class="keyword">struct  </span><a class="code" href="structbtCollisionWorld_1_1LocalShapeInfo.html" title="LocalShapeInfo gives extra information for complex shapes Currently, only btTriangleMeshShape is avai...">LocalShapeInfo</a>
<a name="l00125"></a>00125         {
<a name="l00126"></a><a class="code" href="structbtCollisionWorld_1_1LocalShapeInfo.html#a3390c8534d107c52651b93180d6284d9">00126</a>                 <span class="keywordtype">int</span>     <a class="code" href="structbtCollisionWorld_1_1LocalShapeInfo.html#a3390c8534d107c52651b93180d6284d9">m_shapePart</a>;
<a name="l00127"></a><a class="code" href="structbtCollisionWorld_1_1LocalShapeInfo.html#a2099265fc930533423ee8ef1af10d09e">00127</a>                 <span class="keywordtype">int</span>     <a class="code" href="structbtCollisionWorld_1_1LocalShapeInfo.html#a2099265fc930533423ee8ef1af10d09e">m_triangleIndex</a>;
<a name="l00128"></a>00128                 
<a name="l00129"></a>00129                 <span class="comment">//const btCollisionShape*       m_shapeTemp;</span>
<a name="l00130"></a>00130                 <span class="comment">//const btTransform*    m_shapeLocalTransform;</span>
<a name="l00131"></a>00131         };
<a name="l00132"></a>00132 
<a name="l00133"></a><a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html">00133</a>         <span class="keyword">struct  </span><a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html">LocalRayResult</a>
<a name="l00134"></a>00134         {
<a name="l00135"></a><a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#ae12115415ecf03b284632f6958f127eb">00135</a>                 <a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#ae12115415ecf03b284632f6958f127eb">LocalRayResult</a>(btCollisionObject*       collisionObject, 
<a name="l00136"></a>00136                         <a class="code" href="structbtCollisionWorld_1_1LocalShapeInfo.html" title="LocalShapeInfo gives extra information for complex shapes Currently, only btTriangleMeshShape is avai...">LocalShapeInfo</a>* localShapeInfo,
<a name="l00137"></a>00137                         <span class="keyword">const</span> btVector3&amp;                hitNormalLocal,
<a name="l00138"></a>00138                         btScalar hitFraction)
<a name="l00139"></a>00139                 :<a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#a32d45b332dcdfd59c726c7b345146c2d">m_collisionObject</a>(collisionObject),
<a name="l00140"></a>00140                 <a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#a46022b46ef5a18e44ed141ea1b1abeca">m_localShapeInfo</a>(localShapeInfo),
<a name="l00141"></a>00141                 <a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#ad82b15c5fafbbef1d60c9c0c66774288">m_hitNormalLocal</a>(hitNormalLocal),
<a name="l00142"></a>00142                 <a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#a7404aa8c0c9c12bb50898ddc2f86a6a1">m_hitFraction</a>(hitFraction)
<a name="l00143"></a>00143                 {
<a name="l00144"></a>00144                 }
<a name="l00145"></a>00145 
<a name="l00146"></a><a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#a32d45b332dcdfd59c726c7b345146c2d">00146</a>                 btCollisionObject*              <a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#a32d45b332dcdfd59c726c7b345146c2d">m_collisionObject</a>;
<a name="l00147"></a><a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#a46022b46ef5a18e44ed141ea1b1abeca">00147</a>                 <a class="code" href="structbtCollisionWorld_1_1LocalShapeInfo.html" title="LocalShapeInfo gives extra information for complex shapes Currently, only btTriangleMeshShape is avai...">LocalShapeInfo</a>*                 <a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#a46022b46ef5a18e44ed141ea1b1abeca">m_localShapeInfo</a>;
<a name="l00148"></a><a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#ad82b15c5fafbbef1d60c9c0c66774288">00148</a>                 btVector3                               <a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#ad82b15c5fafbbef1d60c9c0c66774288">m_hitNormalLocal</a>;
<a name="l00149"></a><a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#a7404aa8c0c9c12bb50898ddc2f86a6a1">00149</a>                 btScalar                                <a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#a7404aa8c0c9c12bb50898ddc2f86a6a1">m_hitFraction</a>;
<a name="l00150"></a>00150 
<a name="l00151"></a>00151         };
<a name="l00152"></a>00152 
<a name="l00154"></a><a class="code" href="structbtCollisionWorld_1_1RayResultCallback.html">00154</a>         <span class="keyword">struct  </span><a class="code" href="structbtCollisionWorld_1_1RayResultCallback.html" title="RayResultCallback is used to report new raycast results.">RayResultCallback</a>
<a name="l00155"></a>00155         {
<a name="l00156"></a><a class="code" href="structbtCollisionWorld_1_1RayResultCallback.html#adf5be6bb5604ddea5ebf15efc2170673">00156</a>                 <span class="keyword">virtual</span> <a class="code" href="structbtCollisionWorld_1_1RayResultCallback.html#adf5be6bb5604ddea5ebf15efc2170673">~RayResultCallback</a>()
<a name="l00157"></a>00157                 {
<a name="l00158"></a>00158                 }
<a name="l00159"></a><a class="code" href="structbtCollisionWorld_1_1RayResultCallback.html#a2218c203bbea335f75f89e8306490af0">00159</a>                 btScalar        <a class="code" href="structbtCollisionWorld_1_1RayResultCallback.html#a2218c203bbea335f75f89e8306490af0">m_closestHitFraction</a>;
<a name="l00160"></a><a class="code" href="structbtCollisionWorld_1_1RayResultCallback.html#af81ad908987998dc74710048138a71d4">00160</a>                 <span class="keywordtype">bool</span>    <a class="code" href="structbtCollisionWorld_1_1RayResultCallback.html#af81ad908987998dc74710048138a71d4">HasHit</a>()
<a name="l00161"></a>00161                 {
<a name="l00162"></a>00162                         <span class="keywordflow">return</span> (<a class="code" href="structbtCollisionWorld_1_1RayResultCallback.html#a2218c203bbea335f75f89e8306490af0">m_closestHitFraction</a> &lt; btScalar(1.));
<a name="l00163"></a>00163                 }
<a name="l00164"></a>00164 
<a name="l00165"></a><a class="code" href="structbtCollisionWorld_1_1RayResultCallback.html#a85010f411e890e1d2ff64e31d8bf5a2e">00165</a>                 <a class="code" href="structbtCollisionWorld_1_1RayResultCallback.html#a85010f411e890e1d2ff64e31d8bf5a2e">RayResultCallback</a>()
<a name="l00166"></a>00166                         :<a class="code" href="structbtCollisionWorld_1_1RayResultCallback.html#a2218c203bbea335f75f89e8306490af0">m_closestHitFraction</a>(btScalar(1.))
<a name="l00167"></a>00167                 {
<a name="l00168"></a>00168                 }
<a name="l00169"></a>00169                 <span class="keyword">virtual</span> btScalar        <a class="code" href="structbtCollisionWorld_1_1RayResultCallback.html#a34e4e7fab2f116b924b1302ac2ce166a">AddSingleResult</a>(<a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html">LocalRayResult</a>&amp; rayResult,<span class="keywordtype">bool</span> normalInWorldSpace) = 0;
<a name="l00170"></a>00170         };
<a name="l00171"></a>00171 
<a name="l00172"></a><a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html">00172</a>         <span class="keyword">struct  </span><a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html">ClosestRayResultCallback</a> : <span class="keyword">public</span> <a class="code" href="structbtCollisionWorld_1_1RayResultCallback.html" title="RayResultCallback is used to report new raycast results.">RayResultCallback</a>
<a name="l00173"></a>00173         {
<a name="l00174"></a><a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#a63c270257d511fc2404dc3117a09151b">00174</a>                 <a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#a63c270257d511fc2404dc3117a09151b">ClosestRayResultCallback</a>(<span class="keyword">const</span> btVector3&amp;       rayFromWorld,<span class="keyword">const</span> btVector3&amp;   rayToWorld)
<a name="l00175"></a>00175                 :<a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#a7f39bb6da984035fcc5ff1f53b587e83">m_rayFromWorld</a>(rayFromWorld),
<a name="l00176"></a>00176                 <a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#a7fdbdd4a5688f4677ac24cbf2d3ba65a">m_rayToWorld</a>(rayToWorld),
<a name="l00177"></a>00177                 <a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#a3da584064bb048938541881cb9ce0d2f">m_collisionObject</a>(0)
<a name="l00178"></a>00178                 {
<a name="l00179"></a>00179                 }
<a name="l00180"></a>00180 
<a name="l00181"></a><a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#a7f39bb6da984035fcc5ff1f53b587e83">00181</a>                 btVector3       <a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#a7f39bb6da984035fcc5ff1f53b587e83">m_rayFromWorld</a>;<span class="comment">//used to calculate hitPointWorld from hitFraction</span>
<a name="l00182"></a><a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#a7fdbdd4a5688f4677ac24cbf2d3ba65a">00182</a>                 btVector3       <a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#a7fdbdd4a5688f4677ac24cbf2d3ba65a">m_rayToWorld</a>;
<a name="l00183"></a>00183 
<a name="l00184"></a><a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#acafc99a2109d9a77bd50adc5de111721">00184</a>                 btVector3       <a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#acafc99a2109d9a77bd50adc5de111721">m_hitNormalWorld</a>;
<a name="l00185"></a><a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#a9c6f6d2ffdb0420674bb928324677f76">00185</a>                 btVector3       <a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#a9c6f6d2ffdb0420674bb928324677f76">m_hitPointWorld</a>;
<a name="l00186"></a><a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#a3da584064bb048938541881cb9ce0d2f">00186</a>                 btCollisionObject*      <a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#a3da584064bb048938541881cb9ce0d2f">m_collisionObject</a>;
<a name="l00187"></a>00187                 
<a name="l00188"></a><a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#aeca6d5ad2b13f2964b299bd45d8ad7fa">00188</a>                 <span class="keyword">virtual</span> btScalar        <a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#aeca6d5ad2b13f2964b299bd45d8ad7fa">AddSingleResult</a>(<a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html">LocalRayResult</a>&amp; rayResult,<span class="keywordtype">bool</span> normalInWorldSpace)
<a name="l00189"></a>00189                 {
<a name="l00190"></a>00190 
<a name="l00191"></a>00191 <span class="comment">//caller already does the filter on the m_closestHitFraction</span>
<a name="l00192"></a>00192                         assert(rayResult.<a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#a7404aa8c0c9c12bb50898ddc2f86a6a1">m_hitFraction</a> &lt;= <a class="code" href="structbtCollisionWorld_1_1RayResultCallback.html#a2218c203bbea335f75f89e8306490af0">m_closestHitFraction</a>);
<a name="l00193"></a>00193                         
<a name="l00194"></a>00194                         <a class="code" href="structbtCollisionWorld_1_1RayResultCallback.html#a2218c203bbea335f75f89e8306490af0">m_closestHitFraction</a> = rayResult.<a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#a7404aa8c0c9c12bb50898ddc2f86a6a1">m_hitFraction</a>;
<a name="l00195"></a>00195                         <a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#a3da584064bb048938541881cb9ce0d2f">m_collisionObject</a> = rayResult.<a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#a32d45b332dcdfd59c726c7b345146c2d">m_collisionObject</a>;
<a name="l00196"></a>00196                         <span class="keywordflow">if</span> (normalInWorldSpace)
<a name="l00197"></a>00197                         {
<a name="l00198"></a>00198                                 <a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#acafc99a2109d9a77bd50adc5de111721">m_hitNormalWorld</a> = rayResult.<a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#ad82b15c5fafbbef1d60c9c0c66774288">m_hitNormalLocal</a>;
<a name="l00199"></a>00199                         } <span class="keywordflow">else</span>
<a name="l00200"></a>00200                         {
<a name="l00202"></a>00202                                 <a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#acafc99a2109d9a77bd50adc5de111721">m_hitNormalWorld</a> = <a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#a3da584064bb048938541881cb9ce0d2f">m_collisionObject</a>-&gt;getWorldTransform().getBasis()*rayResult.<a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#ad82b15c5fafbbef1d60c9c0c66774288">m_hitNormalLocal</a>;
<a name="l00203"></a>00203                         }
<a name="l00204"></a>00204                         <a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#a9c6f6d2ffdb0420674bb928324677f76">m_hitPointWorld</a>.setInterpolate3(<a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#a7f39bb6da984035fcc5ff1f53b587e83">m_rayFromWorld</a>,<a class="code" href="structbtCollisionWorld_1_1ClosestRayResultCallback.html#a7fdbdd4a5688f4677ac24cbf2d3ba65a">m_rayToWorld</a>,rayResult.<a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#a7404aa8c0c9c12bb50898ddc2f86a6a1">m_hitFraction</a>);
<a name="l00205"></a>00205                         <span class="keywordflow">return</span> rayResult.<a class="code" href="structbtCollisionWorld_1_1LocalRayResult.html#a7404aa8c0c9c12bb50898ddc2f86a6a1">m_hitFraction</a>;
<a name="l00206"></a>00206                 }
<a name="l00207"></a>00207         };
<a name="l00208"></a>00208 
<a name="l00209"></a>00209 
<a name="l00210"></a>00210         
<a name="l00211"></a>00211 
<a name="l00212"></a><a class="code" href="classbtCollisionWorld.html#a6b8d7354f8c3bd090a64ebdd45f9ad3b">00212</a>         <span class="keywordtype">int</span>     <a class="code" href="classbtCollisionWorld.html#a6b8d7354f8c3bd090a64ebdd45f9ad3b">getNumCollisionObjects</a>()<span class="keyword"> const</span>
<a name="l00213"></a>00213 <span class="keyword">        </span>{
<a name="l00214"></a>00214                 <span class="keywordflow">return</span> int(<a class="code" href="classbtCollisionWorld.html#a56afeead1af07bd88814d9161cb86890">m_collisionObjects</a>.size());
<a name="l00215"></a>00215         }
<a name="l00216"></a>00216 
<a name="l00219"></a>00219         <span class="keywordtype">void</span>    <a class="code" href="classbtCollisionWorld.html#a690674a1a252868fdaf60e4aae1cd263" title="rayTest performs a raycast on all objects in the btCollisionWorld, and calls the resultCallback This ...">rayTest</a>(<span class="keyword">const</span> btVector3&amp; rayFromWorld, <span class="keyword">const</span> btVector3&amp; rayToWorld, RayResultCallback&amp; resultCallback, <span class="keywordtype">short</span> <span class="keywordtype">int</span> collisionFilterMask=-1);
<a name="l00220"></a>00220 
<a name="l00224"></a>00224         <span class="keyword">static</span> <span class="keywordtype">void</span>     <a class="code" href="classbtCollisionWorld.html#aca0a0ec375a89bbe445af5c4623d4618" title="rayTestSingle performs a raycast call and calls the resultCallback.">rayTestSingle</a>(<span class="keyword">const</span> btTransform&amp; rayFromTrans,<span class="keyword">const</span> btTransform&amp; rayToTrans,
<a name="l00225"></a>00225                                           btCollisionObject* collisionObject,
<a name="l00226"></a>00226                                           <span class="keyword">const</span> <a class="code" href="classbtCollisionShape.html" title="btCollisionShape provides interface for collision shapes that can be shared among btCollisionObjects...">btCollisionShape</a>* collisionShape,
<a name="l00227"></a>00227                                           <span class="keyword">const</span> btTransform&amp; colObjWorldTransform,
<a name="l00228"></a>00228                                           RayResultCallback&amp; resultCallback, <span class="keywordtype">short</span> <span class="keywordtype">int</span> collisionFilterMask=-1);
<a name="l00229"></a>00229 
<a name="l00231"></a>00231         <span class="keyword">static</span> <span class="keywordtype">void</span>     <a class="code" href="classbtCollisionWorld.html#a542de7cc63e5fdc57efc938ca140c022" title="objectQuerySingle performs a collision detection query and calls the resultCallback. It is used internally by rayTest.">objectQuerySingle</a>(<span class="keyword">const</span> btConvexShape* castShape, <span class="keyword">const</span> btTransform&amp; rayFromTrans,<span class="keyword">const</span> btTransform&amp; rayToTrans,
<a name="l00232"></a>00232                                           btCollisionObject* collisionObject,
<a name="l00233"></a>00233                                           <span class="keyword">const</span> <a class="code" href="classbtCollisionShape.html" title="btCollisionShape provides interface for collision shapes that can be shared among btCollisionObjects...">btCollisionShape</a>* collisionShape,
<a name="l00234"></a>00234                                           <span class="keyword">const</span> btTransform&amp; colObjWorldTransform,
<a name="l00235"></a>00235                                           RayResultCallback&amp; resultCallback, <span class="keywordtype">short</span> <span class="keywordtype">int</span> collisionFilterMask=-1);
<a name="l00236"></a>00236 
<a name="l00237"></a>00237         <span class="keywordtype">void</span>    <a class="code" href="classbtCollisionWorld.html#ac48e8df96e3918a825f6570f243eeecd">addCollisionObject</a>(btCollisionObject* collisionObject,<span class="keywordtype">short</span> <span class="keywordtype">int</span> collisionFilterGroup=1,<span class="keywordtype">short</span> <span class="keywordtype">int</span> collisionFilterMask=1);
<a name="l00238"></a>00238 
<a name="l00239"></a><a class="code" href="classbtCollisionWorld.html#a43e878669b2e755992acc41fad1cda30">00239</a>         <a class="code" href="btCollisionCreateFunc_8h.html#a6e21ccefdea3a53d5ec8f6aa2849bf8b">btCollisionObjectArray</a>&amp; <a class="code" href="classbtCollisionWorld.html#a43e878669b2e755992acc41fad1cda30">getCollisionObjectArray</a>()
<a name="l00240"></a>00240         {
<a name="l00241"></a>00241                 <span class="keywordflow">return</span> <a class="code" href="classbtCollisionWorld.html#a56afeead1af07bd88814d9161cb86890">m_collisionObjects</a>;
<a name="l00242"></a>00242         }
<a name="l00243"></a>00243 
<a name="l00244"></a><a class="code" href="classbtCollisionWorld.html#a1bdae12d25ff59a26bd38c7fbb863795">00244</a>         <span class="keyword">const</span> <a class="code" href="btCollisionCreateFunc_8h.html#a6e21ccefdea3a53d5ec8f6aa2849bf8b">btCollisionObjectArray</a>&amp; <a class="code" href="classbtCollisionWorld.html#a43e878669b2e755992acc41fad1cda30">getCollisionObjectArray</a>()<span class="keyword"> const</span>
<a name="l00245"></a>00245 <span class="keyword">        </span>{
<a name="l00246"></a>00246                 <span class="keywordflow">return</span> <a class="code" href="classbtCollisionWorld.html#a56afeead1af07bd88814d9161cb86890">m_collisionObjects</a>;
<a name="l00247"></a>00247         }
<a name="l00248"></a>00248 
<a name="l00249"></a>00249 
<a name="l00250"></a>00250         <span class="keywordtype">void</span>    <a class="code" href="classbtCollisionWorld.html#a4e995146fe0b4ba6ea0024c1ea0380c3">removeCollisionObject</a>(btCollisionObject* collisionObject);
<a name="l00251"></a>00251 
<a name="l00252"></a>00252         <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="classbtCollisionWorld.html#a7bc2967b5005449b27f55545f224efcd">performDiscreteCollisionDetection</a>();
<a name="l00253"></a>00253 
<a name="l00254"></a><a class="code" href="classbtCollisionWorld.html#aa6e0fa2c310419c6539a84df107a2ac0">00254</a>         <a class="code" href="structbtDispatcherInfo.html">btDispatcherInfo</a>&amp; <a class="code" href="classbtCollisionWorld.html#aa6e0fa2c310419c6539a84df107a2ac0">getDispatchInfo</a>()
<a name="l00255"></a>00255         {
<a name="l00256"></a>00256                 <span class="keywordflow">return</span> <a class="code" href="classbtCollisionWorld.html#a07f4c7b327bd773c557a4804bfec7445">m_dispatchInfo</a>;
<a name="l00257"></a>00257         }
<a name="l00258"></a>00258 
<a name="l00259"></a>00259 };
<a name="l00260"></a>00260 
<a name="l00261"></a>00261 
<a name="l00262"></a>00262 <span class="preprocessor">#endif //COLLISION_WORLD_H</span>
</pre></div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 17 2012 15:24:05 for Bullet Continuous Collision Detection Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
